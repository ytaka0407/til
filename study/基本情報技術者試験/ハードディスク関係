ハードディスクについて
複数のディスクが1枚以上入っていて、アクセスアームで目的のデータを見つけ、磁気ヘッドでデータを読み書きする。

最初にフォーマット(初期化)する必要がある。
フォーマットすると、プラッタ(ディスク)上にデータを記録する領域(セクタ)が作成される。

用語

プラッタ
ハードディスクのディスク部分を指す。

セクタ
データを記録する最小領域

トラック
セクタがディスク一周したもの

シリンダ
複数のディスクにおける同心円状のトラックが複数まとまったものを指す。

1セクタあたりの容量、セクタ数、トラック数、ハードディスクにおけるシリンダ数が与えられて総容量を算出したりできる。

クラスタ
OSで実際の記録される際の単位
セクタを複数まとめた単位。
例えば、8セクタを1クラスタと見なす場合
1セクタ512バイトならOSは×8の4096バイト単位で記録する。
この場合、6000バイト分OSが記録に使用すると、使うのは2クラスタ
使用後1904バイト分の3セクタちょっとは使われないで無駄な領域になってしまう。

フラグメンテーション
書き込みが増えると、連続したクラスタに全部書き込めなくなってくる。
→一つのファイル情報がプラッタ上の複数個所に飛び飛びになって断片化してしまった状態のこと。
複数回探すので読み出しにめっちゃ時間がかかるようになる。

デフラグ
→フラグメンテーションを起こしたプラッタに対してデータの並び直しをさせる。

RAIDについて
複数ハードディスクを組み合わせて、ハードディスクの速度・データ保全を強固なものにする。
RAID0からRAID6までの7種類ある。
覚える必要があるのは、RAID0、RAID1、RAID5

RAID0
ストライピング
1つのデータの書き込みを複数のハードディスクに分散させる。
書き込み処理が同時に2台分回るので高速化が図れる。
半面、片方のHDが壊れるとアウトなので信頼性は低い。

RAID1
ミラーリング
片方のHDのデータのバックアップをもう片方のHDに取る。
片方のHDが壊れてももう片方のHDにデータが生きているので信頼性は高い。
ネックはHD全体の容量の半分しか実質の使えるディスク領域が取れない。

RAID5
パリティ情報を保持
3台以上のHDを使う。一つのデータをRAID0のように3台にデータを分散させて書くと同時に
HD１とHD２のパリティ情報(誤り訂正符号。復元時に使う。)をHD３に同時に書くようにすることで
それぞれのHDに自分以外のHD同士のパリティ情報を保持する。
仮にHDのどれかが壊れても、残ったHDと壊れたHDとのパリティ情報を使って復元が可能。


データアクセスの待ち時間について
・シーク(位置決め)→アクセスアームの調整時間(平均値取る)
・サーチ(回転待ち)→アクセスアームの位置までディスクを回転させる時間(平均値取る)
・データ転送(読み込み)→セクタのデータを磁気ヘッドで読み込む時間。
これ3つ足したのがアクセスの待ち時間。

計算例解説
回転速度　5000回転/分(この速度がイコール転送速度)
平均シーク時間/20ミリ秒
1トラック当たりの記憶容量　15,000バイト

5000バイトのデータ読み出しにかかるアクセス時間を計算。

・シーク　20ミリ秒
表より

最長一周、最短0周なので1/2回転する時間が平均。
5000回転/分から、1回転あたりの時間を求める→それを1/2で割る。
計算式
60.000ミリ秒(1分)÷5000=12ミリ秒/回転あたり
半周で6ミリ秒

・サーチ　6ミリ秒

１トラック当たり15,000バイトなので、5,000バイトは1/3トラック
12ミリ秒/3
=サーチしてから4ミリ秒分読み出ししないといけない。

・転送時間　4ミリ秒

20ミリ秒＋6ミリ秒＋4ミリ秒
=30ミリ秒
