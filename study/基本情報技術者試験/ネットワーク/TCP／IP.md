世界的に普及しており事実上の標準規格(デファクトスタンダード)となっているプロトコル。<br>
OSI基本参照モデルのうち、TCPは第４層のトランスポート層、IPは第３層のネットワーク層での規格として一般化している。<br>
2つセットで標準的に使われているのセットでTCP/IP。<br>
TCP/IPなどの技術を社内LANなどに転用したネットワークをイントラネットと呼ぶ。
<h1>IP(InternetProtocol)</h1>
複数のネットワークをつなぎ、その上をパケットが流れる仕組みのこと。<br>
ルータを介してネットワークからネットワークにパケットの受け渡しを行う。<br>
IPアドレスでネットワーク上での住所管理をし、パケットを送る。この際に送る内容や受信側の接続の確認などは行わない。
<h2>TCP・UDP</h2>
上記のIPの仕組みの中で、正しくデータが送られたことを保証する仕組みのこと。中核となるプロトコルに、TCP、UDPがある。<br>
<h3>TCP(Transmission Control Protocol)</h3>
コネクション型のプロトコル。相手とのコネクションを確立してからパケットを送信する。<br>
また、ポート番号、シーケンス番号(パケットの連番)を付加して送信、受信するとその返答が返ってくるので次のパケットを流す。<br>
何も返答がない場合はもう一回パケットを流す。<br>
この受信確認をする時間で効率が下がるので、返答を待たずに連続して送ることもある。この時に連続して送れる最大サイズをウィンドウサイズという。
<h3>UDP(User Datagram Protorocol)</h3>
TCPと異なり事前の相手との接続確認はしない。コネクションレス型＞<br>
返答を待って再送制御などもしないのでTCPと比較して信頼性は下がるが早い。<br>
データの信頼性よりもリアルタイム性重視の用途には適している。動画配信など。(多少コマ落ちしてもスピーディに受信できる方が大事。)
<h2>IPアドレスいろいろ</h2>
IPアドレスは32ビット(2進数32桁)の数値で表される。<br>
長すぎて実用性に欠けるので、8ビットずつに区切って10進数に変換し、192.123.4.5のように表記する。
<h3>グローバルIPアドレス</h3>
世界共通で使われるIPアドレス。世界中で一意でないといけない。<br>
地域ごとのNIC(Network Infomation Center)が管理しており、好きな数値をわりあてることはできない。
<h3>プライベートIPアドレス</h3>
社内などLANの中で使えるIPアドレス。LAN内で重複しなければ管理者が自由に割り当ててOK
<h2>IPアドレスの構造</h2>
ネットワーク部とホスト部で分かれている。<br>
例えば192.123.4.5だと、192.123.4.まででそのIPアドレスを持った機器の所属するネットワークの住所が表される。<br>
最後の5がネットワーク内での個体の識別(ホスト)<br>
アドレスネットワークの規模が小さいほどネットワークアドレス部が大きくなり、何ビットをネットワーク部に割り振るかはクラスで規定されている。<br>
<h3>クラスA</h3>
大規模ネットワーク用。ネットワークアドレス部の頭は0始まりで8ビット。残り24ビットをホストアドレス部に割り当て
<h3>クラスB</h3>
中規模ネットワーク用。ネットワークアドレス部の頭は10始まりで16ビット。残り16ビットをホストアドレス部に割り当て
<h3>クラスC</h3>
小規模ネットワーク用。ネットワークアドレス部の頭は110始まりで24ビット。残り8ビットをホストアドレス部に割り当て
<h2>ブロードキャスト</h2>
同じネットワークないのすべてのホストに一斉にデータを送信すること。<br>
IPアドレスでホスト部がすべて1となるものが、全員宛を意味する。<br>
宛先別を選定してパケットを流すスイッチハブは、このIPアドレス宛のデータを受信すると全部のポートに対してデータを流す。<br>
逆の、特定の1台のみに送信するのをユニキャスト、指定の範囲内(不特定多数ではない)の複数ホストに送るのをマルチキャストという。
<h2>サブネットマスク</h2>
クラスCでも規模が大きすぎる組織などで、ネットワークを更に細分化することができる。<br>
IPアドレスのホストアドレス部の頭の指定の数ビットをネットワークアドレス部と見なし、疑似的なネットワークアドレス(サブネット)を表現する。<br>
32ビット中24ビットがもともとネットワークアドレス部だったのに対して、ホストアドレス部の8ビットのうち2ビットについてもサブネット部とすることで<br>
24＋２ビットでネットワーク部を区別するようになる。
<h2>MACアドレスとの違い</h2>
通信においては、IPアドレスとMACアドレスを切り替える必要があり使い分けている。<br>
イーサネット規格によって構成されているネットワーク1、ネットワーク2があり、ネットワーク1の端末Aからネットワーク2の端末Bにデータを送るとする。<br>
★イーサネットはOSI基本参照モデルの第1層物理層、第2層のデータリンク層をサポートしており、ここでは端末ごとの固有のMACアドレスで識別がされる。<br>
①まずネットワーク1内で完結する通信においては第1層第2層で完結するのでMACアドレスのみが登場。<br>
②しかし第2層までではネットワーク外に通信はできない。ここからIPアドレスで中継することになる。<br>
ルータ中継するパケットの送信元は1-AのIPアドレスから1-BのIPアドレスを宛先情報としてパケットに付加。これは、ルータ同士が識別するためのもの。<br>
情報が付加されたパケットをルータ間含めデータを運ぶ時にはイーサネットがMACアドレスを使用して担当するので、パケットにはMACアドレスも付加される。<br>
ネットワーク1-Aからルータに流れる時には、送信元は端末1-AのMACアドレス、宛先MACアドレスはネットワーク1のルータのMACアドレス(ネットワークの出口みたいな感じ。)<br>
そこからルータからルータに流れる時は、送信元は1のルータ自身のMACアドレス、宛先は送信先IPアドレスの2のルータのMACアドレス。<br>
宛先ネットワークの入り口の2のルータまで行くと、そこからは送信元は2のルータ自身のMACアドレス、ここで宛先に2-B端末のMACアドレスが登場する。<br>
付加作業(中継)をするためにルータが使うのはIPアドレス、流すときの直接の目的地として指定するのがMACアドレス。<br>
<h2>DHCP</h2>
ネットワークにおいて一意のIPアドレスを自動で振り分けていくプロトコル<br>
①新しい端末から、DHCPサーバにリクエスト飛ばす<br>
②使われていないIPアドレスとネットワーク参加に必要な各種設定がDHCPサーバから提供される。<br>
③端末、LAN参加開始。<br>
プロバイダなどでのインターネット接続サービスを利用する際にも初期設定としてIPアドレスと一緒にネットワーク設定を取得する手順が一般的。
<h2>NATとIPマスカレード</h2>
プライベートIPアドレスしか持たない端末がネットワーク外の端末とやりとりするためにアドレス変換を行う方法。<br>
NAT<br>
グローバルIPアドレスとプライベートIPアドレスを1対1で結び付けて相互変換を行う。<br>
IPマスカレード<br>
グローバルIPアドレス1に対して、複数のプライベートIPアドレスを結び付けて変換を行う。<br>
IPアドレス変換時にポート番号も併せて書き換えるようにすることで1つのグローバルIPアドレスに対し複数端末の接続をポート別で行うことが可能。
<h2>ドメイン名とDNS</h2>
IPアドレスの代わりに人が認識しやすいように読み替えた名称がドメイン名<br>
DNS(Domain Name Systems)でIPアドレスとの紐づけが管理されている。
