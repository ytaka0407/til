前提。
セッションクッキー→セッションへの情報のキー＝セッションIDが$_COOKIE[配列キー：初期値は'PHPSESSID’]の形で記憶されている。(中身のIDは文字数字の羅列)
ここで出てくるsession_name()は、セッションIDの入った配列キー。何も設定していなければ、PHPSESSIDを返す。
セッション破棄手順
①配列$_SESSIONの初期化
②配列$_COOKIEのうち、キーPHPSESSIDに入っているのセッションIDの文字列を破棄。→’’を再代入して有効時間を過去日付にして破棄という流れ。
③セッションに紐付いたデータの削除・セッションIDの割当の解除
①$_SESSIONの初期化
$_SESSION=array();
今セッションに入っている変数の中身をarray()に置き換える。→連想配列だったのが空の配列になる。
ini_getファンクション
ini_get(実行時設定)で、その実行時設定のモードの設定状況を判定する。返すのは()内の実行時設定の返す値が何なのかによる。
②if(ini_get("session.use_cookies")){
この場合、分岐条件は、ユーザー側でセッションIDを保存するのにクッキーを使うモードがONになっている(TRUE)ことが条件。
次から、セッションIDの受け渡しにクッキーを使っている場合のセッションクッキーの破棄の処理。
$params=session_get_cookie_params();
session_get_cookie_params();
変数$paramsにセッションクッキーの持っている情報を返す。
セッションクッキーが持っている情報を配列で返す。
返す配列は下記が固定。
lifetime
path
domain
secure
httponly
samesite
    setcookie(session_name(),'',time()-42000,$params['path'],$params['domain'],$params['secure'],$params['httponly']);
}
上記のセッションIDが残っているとそのIDを使ってなりすましでサーバーから情報が取られることがあるので、セッションIDを変更してそれまで使っていたセッションIDを無効化する。
setcookie(session_name(),’’までで、セッションIDを’’にする。time()-42000はその時間になったらクッキーが破棄される時間。過去日付に設定する。
ここまではOK。
③session_destroy();
サーバー側でこれまで使ってたセッションIDとセッションデータを破棄する。これをやらないと、いくらユーザー側で配列初期化したり$_COOKIEのセッションID破棄してもサーバー側にはIDもデータも残っているので、もしセッションIDが漏れてアクセスされたらセッション情報が抜かれてしまう。
setcookie('email','',time()-3600);
setcookie('password','',time()-3600);
で、最後に個別で設定していたクッキーの記録を中身空欄、期限を過去時間にして破棄。
※このクッキーはセッションIDとは別の配列の自動ログイン用のクッキー。なはず。
@ki-koushi-all
お疲れ様です。ログアウトの流れを自分で調べたのですが、誤って解釈しているところがあればご指摘いただけるとありがたいです。
それと、下記の２点、質問になります。お手すきで解説いただけると助かります。
質問①破棄するだけのセッションクッキーに、わざわざ初期化するID’’と期限の過去時刻time()-4000だけでなく、$paramにsession_get_cookieの中身を呼び出してまで情報をセットし直している理由。
質問②例文で、再代入されているキーのリストにlifetimeとsamesiteが入っていない理由(必ず値が入っているわけではないからでしょうか？？) 

質問①破棄するだけのセッションクッキーに、わざわざ初期化するID’’と期限の過去時刻time()-4000だけでなく、$paramにsession_get_cookieの中身を呼び出してまで情報をセットし直している理由。
とりあえずこれサッパリです。
記事見たり
https://teratail.com/questions/10443
phpの本体のコード読んだりしましたが
https://github.com/php/php-src/blob/8e8a277b2fcc78dc4b5034601e9727a3a1526fa2/ext/standard/head.c
必要ある？って言われると解釈ができませんでした。
僕的にはいらない気はしますが、公式にこう書かれているんだから公式にしたがっておこう的な感じで習っておくのが幸せな気がします。
質問②例文で、再代入されているキーのリストにlifetimeとsamesiteが入っていない理由(必ず値が入っているわけではないからでしょうか？？) （編集済み）
質問1の意図が不明な以上、2も解釈が難しいですが、まぁcookie破棄するのに生存時間のパラメータは不要だし、samesiteみたいなセキュリティ用のパラメータも破棄するならいらないし。
cookieにsamesiteつける機能は割とあたらしめの機能なので、公式がドキュメント更新するの忘れている、もしくは更新しなくても問題ないから放置してるんじゃない？という適当な推測をしています。
結論: ちょいまけ、わからん。
